

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>oneCCL Concepts &mdash; oneAPI Specification 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../_static/favicons.png"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script src="../../../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Communication Operations" href="operations.html" />
    <link rel="prev" title="Definitions" href="../definitions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="../../../../_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../library-interop.html">Library Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../elements.html">oneAPI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dpcpp/source/index.html">DPC++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDPL/source/index.html">oneDPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDNN/source/index.html">oneDNN</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">oneCCL</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../definitions.html">Definitions</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">oneCCL Concepts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#environment">Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#key-value-store">Key-Value Store</a></li>
<li class="toctree-l4"><a class="reference internal" href="#communicator">Communicator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-communicator">Device Communicator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#request">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="#event">Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stream">Stream</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operation-attributes">Operation Attributes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="operations.html">Communication Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="error_handling.html">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../programming_model.html">Programming Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDAL/source/index.html">oneDAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneTBB/source/nested-index.html">oneTBB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneVPL/source/index.html">oneVPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneMKL/source/index.html">oneMKL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">oneAPI Specification</a> &raquo;</li>
        
          
          <li><a href="../index.html">oneCCL</a> </li>
          
        
          
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/elements/oneCCL/source/spec/main_objects.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="oneccl-concepts">
<h1>oneCCL Concepts<a class="headerlink" href="#oneccl-concepts" title="Permalink to this headline">¶</a></h1>
<p>oneCCL specification defines the following list of concepts:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#environment">Environment</a></p></li>
<li><p><a class="reference internal" href="#key-value-store">Key-Value Store</a></p></li>
<li><p><a class="reference internal" href="#communicator">Communicator</a></p></li>
<li><p><a class="reference internal" href="#device-communicator">Device Communicator</a></p></li>
<li><p><a class="reference internal" href="#request">Request</a></p></li>
<li><p><a class="reference internal" href="#event">Event</a></p></li>
<li><p><a class="reference internal" href="#stream">Stream</a></p></li>
<li><p><a class="reference internal" href="#operation-attributes">Operation Attributes</a></p></li>
</ul>
<div class="section" id="environment">
<h2>Environment<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h2>
<p>oneCCL specification defines <code class="docutils literal notranslate"><span class="pre">environment</span></code> class that shall provide a singleton object and helper methods to manage other oneCCL objects, such as communicators, attributes, and so on.</p>
<p>Retrieves the environment singleton object and initializes the library.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="n">environment</span><span class="o">&amp;</span> <span class="n">environment</span><span class="o">::</span><span class="n">instance</span><span class="p">();</span>
</pre></div>
</div>
<dl class="simple">
<dt>return <code class="docutils literal notranslate"><span class="pre">environment</span></code></dt><dd><p>an environment object</p>
</dd>
</dl>
</div>
<div class="section" id="key-value-store">
<h2>Key-Value Store<a class="headerlink" href="#key-value-store" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">kvs_interface</span></code> defines the key-value store (KVS) interface to be used to connect the ranks during the creation of oneCCL communicator. The interface shall include blocking <code class="docutils literal notranslate"><span class="pre">get</span></code> and <code class="docutils literal notranslate"><span class="pre">set</span></code> methods.</p>
<p>Getting a record from the key-value store:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">virtual</span> <span class="n">vector_class</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span> <span class="n">kvs_interface</span><span class="o">::</span><span class="n">get</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">string_class</span><span class="o">&amp;</span> <span class="n">prefix</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">string_class</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">)</span> <span class="k">const</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>prefix</dt><dd><p>the prefix that allows operations with KVS in a separate namespace
to avoid key names conflicts with the existing KVS records</p>
</dd>
<dt>key</dt><dd><p>the key at which the value should be stored</p>
</dd>
<dt>return <code class="docutils literal notranslate"><span class="pre">vector_class&lt;char&gt;</span></code></dt><dd><p>the value associated with the given key</p>
</dd>
</dl>
<p>Saving a record in the key-value store:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">kvs_interface</span><span class="o">::</span><span class="n">set</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">string_class</span><span class="o">&amp;</span> <span class="n">prefix</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">string_class</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">vector_class</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;&amp;</span> <span class="n">data</span><span class="p">)</span> <span class="k">const</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>prefix</dt><dd><p>the prefix that allows operations with KVS in a separate namespace
to avoid key names conflicts with the existing KVS records</p>
</dd>
<dt>key</dt><dd><p>the key at which the value should be stored</p>
</dd>
<dt>data</dt><dd><p>the value that should be associated with the given key</p>
</dd>
</dl>
<p>oneCCL specification defines <code class="docutils literal notranslate"><span class="pre">kvs</span></code> class as a built-in KVS provided by oneCCL.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">kvs</span> <span class="o">:</span> <span class="k">public</span> <span class="n">kvs_interface</span> <span class="p">{</span>

<span class="k">public</span><span class="o">:</span>

<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">size_t</span> <span class="n">address_max_size</span> <span class="o">=</span> <span class="mi">256</span><span class="p">;</span>
<span class="k">using</span> <span class="n">address_type</span> <span class="o">=</span> <span class="n">array_class</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">address_max_size</span><span class="o">&gt;</span><span class="p">;</span>

<span class="k">const</span> <span class="n">address_type</span><span class="o">&amp;</span> <span class="n">get_address</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

<span class="o">~</span><span class="n">kvs</span><span class="p">()</span> <span class="k">override</span><span class="p">;</span>

<span class="n">vector_class</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span> <span class="n">get</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">string_class</span><span class="o">&amp;</span> <span class="n">prefix</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">string_class</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">)</span> <span class="k">const</span> <span class="k">override</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">set</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">string_class</span><span class="o">&amp;</span> <span class="n">prefix</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">string_class</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">vector_class</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;&amp;</span> <span class="n">data</span><span class="p">)</span> <span class="k">const</span> <span class="k">override</span><span class="p">;</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Retrieving an address of built-in key-value store:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span> <span class="n">address_type</span><span class="o">&amp;</span> <span class="n">kvs</span><span class="o">::</span><span class="n">get_address</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl>
<dt>return <code class="docutils literal notranslate"><span class="pre">kvs::address_type</span></code></dt><dd><div class="line-block">
<div class="line">the address of the key-value store</div>
<div class="line">should be retrieved from the main built-in KVS and distributed to other processes for the built-in KVS creation</div>
</div>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">environment</span></code> class shall provide the ability to create an instance of <code class="docutils literal notranslate"><span class="pre">kvs</span></code> class.</p>
<p>Creating a main built-in key-value store. Its address should be distributed using an out-of-band communication mechanism
and be used to create key-value stores on other ranks:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">kvs</span> <span class="n">environment</span><span class="o">::</span><span class="n">create_main_kvs</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>return <code class="docutils literal notranslate"><span class="pre">kvs</span></code></dt><dd><p>the main key-value store object</p>
</dd>
</dl>
<p>Creating a new key-value store from main kvs address:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">kvs</span> <span class="n">environment</span><span class="o">::</span><span class="n">create_kvs</span><span class="p">(</span><span class="k">const</span> <span class="n">kvs</span><span class="o">::</span><span class="n">addr_type</span><span class="o">&amp;</span> <span class="n">addr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>addr</dt><dd><p>the address of the main kvs</p>
</dd>
<dt>return <code class="docutils literal notranslate"><span class="pre">kvs</span></code></dt><dd><p>key-value store object</p>
</dd>
</dl>
</div>
<div class="section" id="communicator">
<span id="id1"></span><h2>Communicator<a class="headerlink" href="#communicator" title="Permalink to this headline">¶</a></h2>
<p>oneCCL specification defines <code class="docutils literal notranslate"><span class="pre">communicator</span></code> class that describes a group of communicating ranks, where rank is a single process. <code class="docutils literal notranslate"><span class="pre">communicator</span></code> defines communication operations on host memory buffers.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">environment</span></code> class shall provide the ability to create an instance of <code class="docutils literal notranslate"><span class="pre">communicator</span></code> class.</p>
<p>Creating a new host communicator with user-supplied size, rank, and kvs:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">communicator</span> <span class="n">environment</span><span class="o">::</span><span class="n">create_communicator</span><span class="p">(</span>
    <span class="k">const</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">size_t</span> <span class="n">rank</span><span class="p">,</span>
    <span class="n">shared_ptr_class</span><span class="o">&lt;</span><span class="n">kvs_interface</span><span class="o">&gt;</span> <span class="n">kvs</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>size</dt><dd><p>user-supplied total number of ranks</p>
</dd>
<dt>rank</dt><dd><p>user-supplied rank</p>
</dd>
<dt>kvs</dt><dd><p>key-value store for ranks wire-up</p>
</dd>
<dt>return <code class="docutils literal notranslate"><span class="pre">communicator</span></code></dt><dd><p>communicator object</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">communicator</span></code> shall provide methods to retrieve the rank that corresponds to the communicator object and the number of ranks in the communicator. It shall also provide communication operations on host memory buffers.</p>
<p>Retrieving the rank in a communicator:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span> <span class="n">communicator</span><span class="o">::</span><span class="n">rank</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>return <code class="docutils literal notranslate"><span class="pre">size_t</span></code></dt><dd><p>rank of the current process</p>
</dd>
</dl>
<p>Retrieving the number of ranks in a communicator:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span> <span class="n">communicator</span><span class="o">::</span><span class="n">size</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>return <code class="docutils literal notranslate"><span class="pre">size_t</span></code></dt><dd><p>number of the ranks</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also: <a class="reference internal" href="collective_operations.html"><span class="doc">Collective Operations</span></a></p>
</div>
</div>
<div class="section" id="device-communicator">
<span id="id2"></span><h2>Device Communicator<a class="headerlink" href="#device-communicator" title="Permalink to this headline">¶</a></h2>
<p>oneCCL specification defines <code class="docutils literal notranslate"><span class="pre">device_communicator</span></code> class that describes a group of communicating ranks, where rank is a single device. <code class="docutils literal notranslate"><span class="pre">device_communicator</span></code> defines communication operations on device memory buffers.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here and below, a device, a device memory, a device context, a queue, and an event are defined in the scope of SYCL device runtime.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">environment</span></code> class shall provide the ability to create an instance of <code class="docutils literal notranslate"><span class="pre">device_communicator</span></code> class.</p>
<p>Creating a new device communicator with user-supplied size, rank, and kvs:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">native_device_type</span> <span class="o">=</span> <span class="n">sycl</span><span class="o">::</span><span class="n">device</span><span class="p">;</span>
<span class="k">using</span> <span class="n">native_context_type</span> <span class="o">=</span> <span class="n">sycl</span><span class="o">::</span><span class="n">context</span><span class="p">;</span>

<span class="n">vector_class</span><span class="o">&lt;</span><span class="n">device_communicator</span><span class="o">&gt;</span> <span class="n">environment</span><span class="o">::</span><span class="n">create_device_communicators</span><span class="p">(</span>
    <span class="k">const</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span>
    <span class="n">vector_class</span><span class="o">&lt;</span><span class="n">pair_class</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="p">,</span> <span class="n">native_device_type</span><span class="o">&gt;&gt;&amp;</span> <span class="n">rank_device_map</span><span class="p">,</span>
    <span class="n">native_context_type</span><span class="o">&amp;</span> <span class="n">context</span><span class="p">,</span>
    <span class="n">shared_ptr_class</span><span class="o">&lt;</span><span class="n">kvs_interface</span><span class="o">&gt;</span> <span class="n">kvs</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>size</dt><dd><p>user-supplied total number of ranks</p>
</dd>
<dt>rank_device_map</dt><dd><p>user-supplied mapping of local ranks on devices</p>
</dd>
<dt>context</dt><dd><p>device context</p>
</dd>
<dt>kvs</dt><dd><p>key-value store for ranks wire-up</p>
</dd>
<dt>return <code class="docutils literal notranslate"><span class="pre">vector_class&lt;device_communicator&gt;</span></code></dt><dd><p>a vector of device communicators</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">device_communicator</span></code> shall provide methods to retrieve the rank, the device, and the device context that correspond to the communicator object as well as the number of ranks in the communicator. It shall also provide communication operations on device memory buffers.</p>
<p>Retrieving the rank in a communicator:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span> <span class="n">device_communicator</span><span class="o">::</span><span class="n">rank</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>return <code class="docutils literal notranslate"><span class="pre">size_t</span></code></dt><dd><p>the rank that corresponds to the communicator object</p>
</dd>
</dl>
<p>Retrieving the number of ranks in a communicator:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span> <span class="n">device_communicator</span><span class="o">::</span><span class="n">size</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>return <code class="docutils literal notranslate"><span class="pre">size_t</span></code></dt><dd><p>the number of the ranks</p>
</dd>
</dl>
<p>Retrieving an underlying device, which was used as communicator construction argument:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">native_device_type</span> <span class="nf">get_device</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>return <code class="docutils literal notranslate"><span class="pre">native_device_type</span></code></dt><dd><p>the device that corresponds to the communicator object</p>
</dd>
</dl>
<p>Retrieving an underlying device context, which was used as communicator construction argument:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">native_context_type</span> <span class="nf">get_context</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>return <code class="docutils literal notranslate"><span class="pre">native_context_type</span></code></dt><dd><p>the device context that corresponds to the communicator object</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also: <a class="reference internal" href="collective_operations.html"><span class="doc">Collective Operations</span></a></p>
</div>
</div>
<div class="section" id="request">
<span id="id3"></span><h2>Request<a class="headerlink" href="#request" title="Permalink to this headline">¶</a></h2>
<p>Each communication operation of oneCCL shall return a request object for tracking the operation’s progress.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also: <a class="reference internal" href="operation_progress.html"><span class="doc">Operation Progress Tracking</span></a></p>
</div>
</div>
<div class="section" id="event">
<span id="id4"></span><h2>Event<a class="headerlink" href="#event" title="Permalink to this headline">¶</a></h2>
<p>oneCCL specification defines the <code class="docutils literal notranslate"><span class="pre">event</span></code> class that wraps the <code class="docutils literal notranslate"><span class="pre">sycl::event</span></code> object and encapsulates synchronization context for <code class="docutils literal notranslate"><span class="pre">device_communicator</span></code> communication operations.</p>
<p>A vector of events may be passed to the <code class="docutils literal notranslate"><span class="pre">device_communicator</span></code> communication operation to designate input dependencies for the operation. An event may be retrieved from <code class="docutils literal notranslate"><span class="pre">request</span></code> object to be passed further as an input dependency in other device communication operations or in computation operations.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">environment</span></code> class shall provide the ability to create an instance of the <code class="docutils literal notranslate"><span class="pre">event</span></code> class from the <code class="docutils literal notranslate"><span class="pre">sycl::event</span></code> object.</p>
<p>Creating a new event from <code class="docutils literal notranslate"><span class="pre">sycl::event</span></code> object:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">native_event_type</span> <span class="o">=</span> <span class="n">sycl</span><span class="o">::</span><span class="n">event</span><span class="p">;</span>
<span class="n">event</span> <span class="n">environment</span><span class="o">::</span><span class="n">create_event</span><span class="p">(</span><span class="n">native_event_type</span><span class="o">&amp;</span> <span class="n">native_event</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>native_event</dt><dd><p>the existing native handle for an event</p>
</dd>
<dt>return <code class="docutils literal notranslate"><span class="pre">event</span></code></dt><dd><p>an event object</p>
</dd>
</dl>
</div>
<div class="section" id="stream">
<span id="id5"></span><h2>Stream<a class="headerlink" href="#stream" title="Permalink to this headline">¶</a></h2>
<p>oneCCL specification defines <code class="docutils literal notranslate"><span class="pre">stream</span></code> class that wraps <code class="docutils literal notranslate"><span class="pre">sycl::queue</span></code> object and encapsulates execution context for <code class="docutils literal notranslate"><span class="pre">device_communicator</span></code> communication operations.</p>
<p>Stream shall be passed to <code class="docutils literal notranslate"><span class="pre">device_communicator</span></code> communication operation.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">environment</span></code> class shall provide the ability to create an instance of the <code class="docutils literal notranslate"><span class="pre">stream</span></code> class from the <code class="docutils literal notranslate"><span class="pre">sycl::queue</span></code> object.</p>
<p>Creating a new stream from <code class="docutils literal notranslate"><span class="pre">sycl::queue</span></code> object:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">native_stream_type</span> <span class="o">=</span> <span class="n">sycl</span><span class="o">::</span><span class="n">queue</span><span class="p">;</span>
<span class="n">stream</span> <span class="n">environment</span><span class="o">::</span><span class="n">create_stream</span><span class="p">(</span><span class="n">native_stream_type</span><span class="o">&amp;</span> <span class="n">native_stream</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
<dl class="simple">
<dt>native_stream</dt><dd><p>the existing native handle for a stream</p>
</dd>
<dt>return <code class="docutils literal notranslate"><span class="pre">stream</span></code></dt><dd><p>a stream object</p>
</dd>
</dl>
</div>
<div class="section" id="operation-attributes">
<h2>Operation Attributes<a class="headerlink" href="#operation-attributes" title="Permalink to this headline">¶</a></h2>
<p>Communication operation behavior may be controlled through operation attributes.</p>
<p><a class="reference internal" href="operation_attributes.html"><span class="doc">Operation Attributes</span></a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="operations.html" class="btn btn-neutral float-right" title="Communication Operations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../definitions.html" class="btn btn-neutral float-left" title="Definitions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>