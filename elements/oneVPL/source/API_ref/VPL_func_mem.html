<!--
SPDX-FileCopyrightText: 2019-2020 Intel Corporation

SPDX-License-Identifier: MIT
-->



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Memory &mdash; oneAPI Specification 1.0 rev 1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../_static/favicons.png"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script src="../../../../_static/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Implementation Capabilities" href="VPL_func_capabilities.html" />
    <link rel="prev" title="Session Management" href="VPL_func_session.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneAPI Specification
          

          
            
            <img src="../../../../_static/oneAPI-rgb-rev-100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0 rev 1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../library-interop.html">Library Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../elements.html">oneAPI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dpcpp/source/index.html">DPC++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDPL/source/index.html">oneDPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDNN/source/index.html">oneDNN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneCCL/source/index.html">oneCCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../l0/source/index.html">Level Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneDAL/source/index.html">oneDAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneTBB/source/nested-index.html">oneTBB</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">oneVPL</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../architecture/index.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../programming_guide/index.html">Programming Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../VPL_summary.html">Mandatory APIs and Functions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="VPL_api_ref.html">oneVPL API Reference</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="VPL_functions.html">Function Reference</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="VPL_func_vid_decode.html">VideoDECODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="VPL_func_vid_encode.html">VideoENCODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="VPL_func_vid_vpp.html">VideoVPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="VPL_func_vidcore.html">VideoCORE</a></li>
<li class="toctree-l4"><a class="reference internal" href="VPL_func_session.html">Session Management</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="VPL_func_capabilities.html">Implementation Capabilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="VPL_func_adapters.html">Adapters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="VPL_structs.html">Structure Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="VPL_enums.html">Enumerator Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="VPL_defines.html">Define Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="VPL_ref_types.html">Type Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="VPL_disp_api.html">Dispatcher API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Versioning.html">oneVPL API Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/index.html">Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../VPL_acronyms.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../oneMKL/source/index.html">oneMKL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../versions.html">HTML and PDF Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../notices.html">Legal Notices and Disclaimers</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">oneAPI Specification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          <!--
SPDX-FileCopyrightText: 2019-2020 Intel Corporation

SPDX-License-Identifier: MIT
-->

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">oneAPI Specification</a> &raquo;</li>
        
          
          <li><a href="../index.html">oneVPL</a> </li>
          
        
          
        
          
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oneapi-src/oneapi-spec/blob/master/source/elements/oneVPL/source/API_ref/VPL_func_mem.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="memory">
<span id="func-memory"></span><h1>Memory<a class="headerlink" href="#memory" title="Permalink to this headline">¶</a></h1>
<p id="func-mem-begin">Functions for internal memory allocation and management.</p>
<div class="section" id="api">
<span id="func-mem-end"></span><h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#mfxmemory-getsurfaceforvpp" id="id1">MFXMemory_GetSurfaceForVPP</a></p></li>
<li><p><a class="reference internal" href="#mfxmemory-getsurfaceforencode" id="id2">MFXMemory_GetSurfaceForEncode</a></p></li>
<li><p><a class="reference internal" href="#mfxmemory-getsurfacefordecode" id="id3">MFXMemory_GetSurfaceForDecode</a></p></li>
</ul>
</div>
<div class="section" id="mfxmemory-getsurfaceforvpp">
<h3><a class="toc-backref" href="#id1">MFXMemory_GetSurfaceForVPP</a><a class="headerlink" href="#mfxmemory-getsurfaceforvpp" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv426MFXMemory_GetSurfaceForVPP10mfxSessionPP16mfxFrameSurface1">
<span id="_CPPv326MFXMemory_GetSurfaceForVPP10mfxSessionPP16mfxFrameSurface1"></span><span id="_CPPv226MFXMemory_GetSurfaceForVPP10mfxSessionPP16mfxFrameSurface1"></span><span id="MFXMemory_GetSurfaceForVPP__mfxSession.mfxFrameSurface1PP"></span><span class="target" id="mfxvideo_8h_1af2364dbbf4188eb09f917e94a3de9d49"></span><a class="reference internal" href="VPL_enums.html#_CPPv49mfxStatus" title="mfxStatus">mfxStatus</a> <code class="sig-name descname">MFXMemory_GetSurfaceForVPP</code><span class="sig-paren">(</span><a class="reference internal" href="VPL_ref_types.html#_CPPv410mfxSession" title="mfxSession">mfxSession</a> <em>session</em>, <a class="reference internal" href="VPL_structs_memory.html#_CPPv416mfxFrameSurface1" title="mfxFrameSurface1">mfxFrameSurface1</a> **<em>surface</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426MFXMemory_GetSurfaceForVPP10mfxSessionPP16mfxFrameSurface1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns surface which can be used as input for VPP. </p>
<p>VPP should be initialized before this call. Surface should be released with mfxFrameSurface1::FrameInterface.Release(…) after usage. Th value of mfxFrameSurface1::Data.Locked for the returned surface is 0.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>MFX_ERR_NONE The function completed successfully. <p>MFX_ERR_NULL_PTR If surface is NULL. </p>
<p>MFX_ERR_INVALID_HANDLE If session was not initialized. </p>
<p>MFX_ERR_NOT_INITIALIZED If VPP was not initialized (allocator needs to know surface size from somewhere). </p>
<p>MFX_ERR_MEMORY_ALLOC In case of any other internal allocation error. </p>
</p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">session</span></code>: Session handle. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">surface</span></code>: Pointer is set to valid <a class="reference internal" href="VPL_structs_memory.html#structmfx_frame_surface1"><span class="std std-ref">mfxFrameSurface1</span></a> object.</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="mfxmemory-getsurfaceforencode">
<h3><a class="toc-backref" href="#id2">MFXMemory_GetSurfaceForEncode</a><a class="headerlink" href="#mfxmemory-getsurfaceforencode" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv429MFXMemory_GetSurfaceForEncode10mfxSessionPP16mfxFrameSurface1">
<span id="_CPPv329MFXMemory_GetSurfaceForEncode10mfxSessionPP16mfxFrameSurface1"></span><span id="_CPPv229MFXMemory_GetSurfaceForEncode10mfxSessionPP16mfxFrameSurface1"></span><span id="MFXMemory_GetSurfaceForEncode__mfxSession.mfxFrameSurface1PP"></span><span class="target" id="mfxvideo_8h_1a961fc2932faa0bbbe34b5cbf4f022588"></span><a class="reference internal" href="VPL_enums.html#_CPPv49mfxStatus" title="mfxStatus">mfxStatus</a> <code class="sig-name descname">MFXMemory_GetSurfaceForEncode</code><span class="sig-paren">(</span><a class="reference internal" href="VPL_ref_types.html#_CPPv410mfxSession" title="mfxSession">mfxSession</a> <em>session</em>, <a class="reference internal" href="VPL_structs_memory.html#_CPPv416mfxFrameSurface1" title="mfxFrameSurface1">mfxFrameSurface1</a> **<em>surface</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429MFXMemory_GetSurfaceForEncode10mfxSessionPP16mfxFrameSurface1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns a surface which can be used as input for the encoder. </p>
<p>Encoder should be initialized before this call. Surface should be released with mfxFrameSurface1::FrameInterface.Release(…) after usage. The value of mfxFrameSurface1::Data.Locked for the returned surface is 0.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>MFX_ERR_NONE The function completed successfully.<p>MFX_ERR_NULL_PTR If surface is NULL.</p>
<p>MFX_ERR_INVALID_HANDLE If session was not initialized.</p>
<p>MFX_ERR_NOT_INITIALIZED If the encoder was not initialized (allocator needs to know surface size from somewhere).</p>
<p>MFX_ERR_MEMORY_ALLOC In case of any other internal allocation error. </p>
</p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">session</span></code>: Session handle. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">surface</span></code>: Pointer is set to valid <a class="reference internal" href="VPL_structs_memory.html#structmfx_frame_surface1"><span class="std std-ref">mfxFrameSurface1</span></a> object.</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="mfxmemory-getsurfacefordecode">
<h3><a class="toc-backref" href="#id3">MFXMemory_GetSurfaceForDecode</a><a class="headerlink" href="#mfxmemory-getsurfacefordecode" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv429MFXMemory_GetSurfaceForDecode10mfxSessionPP16mfxFrameSurface1">
<span id="_CPPv329MFXMemory_GetSurfaceForDecode10mfxSessionPP16mfxFrameSurface1"></span><span id="_CPPv229MFXMemory_GetSurfaceForDecode10mfxSessionPP16mfxFrameSurface1"></span><span id="MFXMemory_GetSurfaceForDecode__mfxSession.mfxFrameSurface1PP"></span><span class="target" id="mfxvideo_8h_1a9e50670dd5beadf7ac0ec299912cc16f"></span><a class="reference internal" href="VPL_enums.html#_CPPv49mfxStatus" title="mfxStatus">mfxStatus</a> <code class="sig-name descname">MFXMemory_GetSurfaceForDecode</code><span class="sig-paren">(</span><a class="reference internal" href="VPL_ref_types.html#_CPPv410mfxSession" title="mfxSession">mfxSession</a> <em>session</em>, <a class="reference internal" href="VPL_structs_memory.html#_CPPv416mfxFrameSurface1" title="mfxFrameSurface1">mfxFrameSurface1</a> **<em>surface</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429MFXMemory_GetSurfaceForDecode10mfxSessionPP16mfxFrameSurface1" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns a surface which can be used as input for the decoder. </p>
<p>Decoder should be initialized before this call. Surface should be released with mfxFrameSurface1::FrameInterface.Release(…) after usage. The value of mfxFrameSurface1::Data.Locked for the returned surface is 0.’</p>
<p><dl class="simple">
<dt><strong>Note</strong></dt><dd><p>This function was added to simplify transition from legacy surface management to the proposed internal allocation approach. Previously, the user allocated surfaces for the working pool and fed them to the decoder using DecodeFrameAsync calls. With MFXMemory_GetSurfaceForDecode it is possible to change the existing pipeline by just changing the source of work surfaces. Newly developed applications should prefer direct usage of DecodeFrameAsync with internal allocation.</p>
</dd>
<dt><strong>Return</strong></dt><dd><p>MFX_ERR_NONE The function completed successfully.<p>MFX_ERR_NULL_PTR If surface is NULL.</p>
<p>MFX_ERR_INVALID_HANDLE If session was not initialized.</p>
<p>MFX_ERR_NOT_INITIALIZED If the decoder was not initialized (allocator needs to know surface size from somewhere).</p>
<p>MFX_ERR_MEMORY_ALLOC Other internal allocation error. </p>
</p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">session</span></code>: Session handle. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[out]</span> <span class="pre">surface</span></code>: Pointer is set to valid <a class="reference internal" href="VPL_structs_memory.html#structmfx_frame_surface1"><span class="std std-ref">mfxFrameSurface1</span></a> object.</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="VPL_func_capabilities.html" class="btn btn-neutral float-right" title="Implementation Capabilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="VPL_func_session.html" class="btn btn-neutral float-left" title="Session Management" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Intel Corporation

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>